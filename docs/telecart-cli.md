# TeleCart CLI

![TeleCart CLI](images/telecart-cli.png){ loading=lazy, width=600 }
/// caption
Пример работы утилиты TeleCart CLI
///

## Введение

Вместе с модулем TeleCart поставляется специальная консольная утилита **Telecart CLI**, которая позволяет выполнять некоторые очень полезные сервисные операции. Для того чтобы иметь возможность запускать эту утилиту, нужен доступ по SSH к серверу, на котором установлен OpenCart с модулем TeleCart.

## Запуск TeleCart CLI команд

**Step-by-step инструкция как запустить TeleCart CLI**

1. Подключиться к серверу по SSH и перейти в директорию, в которую установлен OpenCart (там где находятся директории
   `admin`, `catalog`, `system`).
2. Проверить, что TeleCart CLI утилита доступна и запускается. Для этого выполнить команду проверки версии модуля TeleCart.
   ```bash
   php ./system/library/oc_telegram_shop/cli.php --version
   ```
   В ответ утилита распечатает на экран текущую установленную версию модуля TeleCart, например `TeleCart v2.0.0`.
3. Просмотреть доступные команды можно запустив команду `list`
   ```bash
   php ./system/library/oc_telegram_shop/cli.php list
   ```

## Доступные команды

| Команда              | Описание                                                                                                                                                                                                                                                     |
|----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `customer:counts`    | Принудительный пересчёт счётчиков на странице "Покупатели" в настройках TeleCart.                                                                                                                                                                            |
| `images:warmup`      | Прогрев кеша изображений. Подробная информация о [кешировании изображений](performance/images.md).                                                                                                                                                           |
| `images:cache-clear` | Принудительный сброс кеша изображений. Подробная информация о [кешировании изображений](performance/images.md).                                                                                                                                              |
| `pulse:send`         | Принудительная отправка телеметрии на сервер TeleCart Pulse. [Подробнее о TeleCart Pulse.](pulse/index.md)                                                                                                                                                   |
| `schedule:list`      | Просмотр списка периодических задач по рассписанию (CRON).                                                                                                                                                                                                   |
| `schedule:run`       | Запуск периодических задач по рассписанию. Команда добавляется в CRON или любую другую утилиту для выполнения по расписанию.                                                                                                                                 |
| `cache:reset`        | Принудительный сброс кеша TeleCart модуля. [Подробнее о кешировании](performance/cache.md).                                                                                                                                                                  |
| `facet:index`        | Пересчёт индекса фасетных фильтров. Следует вызывать после того, как товары и их аттрибуты изменились. Например после импорта товаров или изменения вручную. Более подробно за фасетные фильтры описано в разделе "[Фасетные фильтры](./features/facet.md)". |
